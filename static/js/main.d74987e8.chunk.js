(this["webpackJsonpsmash-modes-online"]=this["webpackJsonpsmash-modes-online"]||[]).push([[0],{44:function(e,n,t){e.exports=t(59)},50:function(e,n,t){},52:function(e,n,t){},57:function(e,n,t){var a={"./banjo_and_kazooie.png":[60,87],"./bayonetta.png":[61,88],"./black_pit.png":[62,89],"./byleth.png":[63,90],"./captain_falcon.png":[64,91],"./chrom.png":[65,92],"./cloud.png":[66,93],"./daisy.png":[67,94],"./dark_samus.png":[68,95],"./dedede.png":[69,96],"./diddy_kong.png":[70,97],"./donkey_kong.png":[71,98],"./dq_hero.png":[72,99],"./dr_mario.png":[73,100],"./duck_hunt.png":[74,101],"./falco.png":[75,102],"./fox.png":[76,103],"./ganondorf.png":[77,104],"./gaogaen.png":[78,105],"./gekkouga.png":[79,106],"./homura.png":[80,107],"./ice_climber.png":[81,108],"./ike.png":[82,109],"./inkling.png":[83,110],"./joker.png":[84,111],"./kamui.png":[85,112],"./kazuya.png":[86,113],"./ken.png":[87,114],"./king_k_rool.png":[88,115],"./kirby.png":[89,116],"./koopa.png":[90,117],"./koopa_jr.png":[91,118],"./link.png":[92,119],"./little_mac.png":[93,120],"./lucario.png":[94,121],"./lucas.png":[95,122],"./lucina.png":[96,123],"./luigi.png":[97,124],"./mario.png":[98,125],"./marth.png":[99,126],"./meta_knight.png":[100,127],"./mewtwo.png":[101,128],"./mii_fighter.png":[102,129],"./minmin.png":[103,130],"./mr_game_and_watch.png":[104,131],"./murabito.png":[105,132],"./ness.png":[106,133],"./pac_man.png":[107,134],"./packun_flower.png":[108,135],"./palutena.png":[109,136],"./peach.png":[110,137],"./pichu.png":[111,138],"./pikachu.png":[112,139],"./pikmin_and_olimar.png":[113,140],"./pit.png":[114,141],"./pokemon_trainer.png":[115,142],"./purin.png":[116,143],"./reflet.png":[117,144],"./richter.png":[118,145],"./ridley.png":[119,146],"./robot.png":[120,147],"./rockman.png":[121,148],"./rosetta_and_chiko.png":[122,149],"./roy.png":[123,150],"./ryu.png":[124,151],"./samus.png":[125,152],"./sephiroth.png":[126,153],"./sheik.png":[127,154],"./shizue.png":[128,155],"./shulk.png":[129,156],"./simon.png":[130,157],"./snake.png":[131,158],"./sonic.png":[132,159],"./sora.png":[133,160],"./steve.png":[134,161],"./terry.png":[135,162],"./toon_link.png":[136,163],"./wario.png":[137,164],"./wii_fit_trainer.png":[138,165],"./wolf.png":[139,166],"./yoshi.png":[140,167],"./young_link.png":[141,168],"./zelda.png":[142,169],"./zero_suit_samus.png":[143,170]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=57,e.exports=r},58:function(e,n,t){var a={"./banjo_and_kazooie.png":[144,3],"./bayonetta.png":[145,4],"./black_pit.png":[146,5],"./byleth.png":[147,6],"./captain_falcon.png":[148,7],"./chrom.png":[149,8],"./cloud.png":[150,9],"./daisy.png":[151,10],"./dark_samus.png":[152,11],"./dedede.png":[153,12],"./diddy_kong.png":[154,13],"./donkey_kong.png":[155,14],"./dq_hero.png":[156,15],"./dr_mario.png":[157,16],"./duck_hunt.png":[158,17],"./falco.png":[159,18],"./fox.png":[160,19],"./ganondorf.png":[161,20],"./gaogaen.png":[162,21],"./gekkouga.png":[163,22],"./homura.png":[164,23],"./ice_climber.png":[165,24],"./ike.png":[166,25],"./inkling.png":[167,26],"./joker.png":[168,27],"./kamui.png":[169,28],"./kazuya.png":[170,29],"./ken.png":[171,30],"./king_k_rool.png":[172,31],"./kirby.png":[173,32],"./koopa.png":[174,33],"./koopa_jr.png":[175,34],"./link.png":[176,35],"./little_mac.png":[177,36],"./lucario.png":[178,37],"./lucas.png":[179,38],"./lucina.png":[180,39],"./luigi.png":[181,40],"./mario.png":[182,41],"./marth.png":[183,42],"./meta_knight.png":[184,43],"./mewtwo.png":[185,44],"./mii_fighter.png":[186,45],"./minmin.png":[187,46],"./mr_game_and_watch.png":[188,47],"./murabito.png":[189,48],"./ness.png":[190,49],"./pac_man.png":[191,50],"./packun_flower.png":[192,51],"./palutena.png":[193,52],"./peach.png":[194,53],"./pichu.png":[195,54],"./pikachu.png":[196,55],"./pikmin_and_olimar.png":[197,56],"./pit.png":[198,57],"./pokemon_trainer.png":[199,58],"./purin.png":[200,59],"./reflet.png":[201,60],"./richter.png":[202,61],"./ridley.png":[203,62],"./robot.png":[204,63],"./rockman.png":[205,64],"./rosetta_and_chiko.png":[206,65],"./roy.png":[207,66],"./ryu.png":[208,67],"./samus.png":[209,68],"./sephiroth.png":[210,69],"./sheik.png":[211,70],"./shizue.png":[212,71],"./shulk.png":[213,72],"./simon.png":[214,73],"./snake.png":[215,74],"./sonic.png":[216,75],"./sora.png":[217,76],"./steve.png":[218,77],"./terry.png":[219,78],"./toon_link.png":[220,79],"./wario.png":[221,80],"./wii_fit_trainer.png":[222,81],"./wolf.png":[223,82],"./yoshi.png":[224,83],"./young_link.png":[225,84],"./zelda.png":[226,85],"./zero_suit_samus.png":[227,86]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=58,e.exports=r},59:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(37),c=t.n(o),i=(t(49),t(50),t(4)),l=t(15),p=t(6),s=t.n(p),u=t(17),g=t(13),m=t(38),d=t(12),f=t(229),b=t(18),k=function(e){var n=e.available,t=e.images,a=e.fighterClick,o=e.setPick;return r.a.createElement("div",{className:"fighter-box",onMouseOut:function(){return o("none")}},n.map((function(e,n){var c,i=e.name,l=e.file;return r.a.createElement("img",{src:null!==(c=t[i].horizontal)&&void 0!==c?c:null,key:l,alt:i,height:50,style:{objectFit:"cover",objectPosition:"-90px 0",width:107,border:"1px solid black"},onClick:function(){return a(i)},onMouseOver:function(){return o(i)}})})))},h=(t(52),t(228)),v=t(41),j=t(42),O=t(39),y=t.n(O),E=function(e){var n=e.fighterLength,t=e.startGame,o=Object(a.useState)(1),c=Object(g.a)(o,2),i=c[0],l=c[1],p=Object(a.useState)("p1"),s=Object(g.a)(p,2),u=s[0],m=s[1],d=Object(a.useState)("p2"),b=Object(g.a)(d,2),k=b[0],O=b[1],E=Object(a.useState)(!1),_=Object(g.a)(E,2),w=_[0],x=_[1],C=Math.floor(n/2);return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:12}},r.a.createElement("h2",null,"Room Options:"),r.a.createElement(h.a,{id:"setup"},r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"How Many Battles?"),r.a.createElement(v.a,{as:"select",size:"10",value:i,onChange:function(e){return l(e.target.value)}},y.a.range(1,C+1).map((function(e,n){return r.a.createElement("option",{value:e,key:n},e)})))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(h.a.Label,null,"P1's name"),r.a.createElement(v.a,{value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement(h.a.Group,{as:j.a},r.a.createElement(h.a.Label,null,"P2's name"),r.a.createElement(v.a,{value:k,onChange:function(e){return O(e.target.value)}}))),r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Check,{type:"checkbox",label:"Mercy Rule?",value:w,onChange:function(){return x(!w)}})),r.a.createElement(f.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(),t(i,u,k,w)}},"Continue")))},_=function(e){var n,t,a=e.roomState,o=void 0===a?{}:a,c=e.roomOptions,i=void 0===c?{}:c,p=e.images,s=e.setupRoom,u=e.onChangeRoomState,g=e.onClose,m=o.p1,d=o.p2,h=o.gameMode,v=o.turn,j=o.winner,O=o.p1Pick,y=o.p2Pick,_=o.totalBattles,w=o.available,x=function(e){var n=i.maxBattles,t=i.maxWins,a=m.wins,r=d.wins;e===m.name?a+=1:r+=1,u({p1:Object(l.a)(Object(l.a)({},m),{},{wins:a}),p2:Object(l.a)(Object(l.a)({},d),{},{wins:r})}),u(a>=t?{winner:m.name,gameMode:3}:r>=t?{winner:d.name,gameMode:3}:_+1>=n?{winner:a>=r?m.name:d.name,gameMode:3}:{gameMode:1,p1Pick:"none",p2Pick:"none",totalBattles:_+1})};if(0===h)return r.a.createElement(E,{fighterLength:w.length,startGame:function(e,n,t,a){s({maxBattles:e,maxWins:a?Math.floor(e/2)+1:e}),u({p1:Object(l.a)(Object(l.a)({},m),{},{name:n}),p2:Object(l.a)(Object(l.a)({},d),{},{name:t}),turn:n,gameMode:1})}});if(1===h)return v?r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement("p",null,"".concat(i.maxBattles-_," battles left")),r.a.createElement(k,{available:w,images:p,fighterClick:function(){if(v===m.name)u({turn:d.name});else if("none"!==y){var e,n,t=w.filter((function(e){return![O,y].includes(e.name)}));u({p1:Object(l.a)(Object(l.a)({},m),{},{picks:[].concat(Object(b.a)(null!==(e=m.picks)&&void 0!==e?e:[]),[O])}),p2:Object(l.a)(Object(l.a)({},d),{},{picks:[].concat(Object(b.a)(null!==(n=d.picks)&&void 0!==n?n:[]),[y])}),turn:m.name,gameMode:2,available:t})}},setPick:function(e){v===m.name?u({p1Pick:e}):u(e!==O?{p2Pick:e}:{p2Pick:"none"})}}),r.a.createElement("p",null,"Choose ".concat(v,"'s char")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:500}},r.a.createElement("div",{className:"player-box"},"none"!==O&&r.a.createElement("img",{src:null!==(n=p[O].vertical)&&void 0!==n?n:null,alt:O}),r.a.createElement("div",{className:"perfect-center"},"none"!==O&&O),r.a.createElement("div",{className:"win-circle perfect-center"},m.wins)),r.a.createElement("div",{className:"player-box blue"},"none"!==y&&r.a.createElement("img",{src:null!==(t=p[y].vertical)&&void 0!==t?t:null,alt:y}),r.a.createElement("div",{className:"perfect-center"},"none"!==y&&y),r.a.createElement("div",{className:"win-circle perfect-center"},d.wins))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("h6",null,"Room Id: ",e.roomId),r.a.createElement(f.a,{onClick:g},"Leave Room"))):null;if(2===h)return r.a.createElement("div",{className:"centered-column"},r.a.createElement("p",null,"Who Won?"),r.a.createElement("div",null,r.a.createElement(f.a,{variant:"outline-secondary",onClick:function(){return x(m.name)}},m.name),r.a.createElement(f.a,{variant:"outline-secondary",onClick:function(){return x(d.name)}},d.name)));if(3===h){var C=j===m.name?m.picks:d.picks,N=(90*(C.length-1)+126)/2;return r.a.createElement("div",{className:"centered-column"},r.a.createElement("p",null,"".concat(j," wins!")),r.a.createElement("div",{style:{position:"relative",left:-N}},Object(b.a)(C).reverse().map((function(e,n){return r.a.createElement("div",{className:"winningImage",style:{border:"1px solid black",borderRadius:10,background:"lightgoldenrodyellow",position:"absolute",left:90*n,top:10*n,zIndex:-n},key:n},r.a.createElement("img",{src:p[e].vertical,key:n,alt:e,style:{borderRadius:10}}))}))),r.a.createElement(f.a,{style:{position:"fixed",bottom:60},onClick:g},"Start Over"),r.a.createElement("div",{style:{position:"fixed",right:75,top:50,display:"flex"}},r.a.createElement("div",{className:"centered-column",style:{marginRight:15}},r.a.createElement("div",{className:"win-circle perfect-center"},m.wins),r.a.createElement("p",null,m.name)),r.a.createElement("div",{className:"centered-column"},r.a.createElement("div",{className:"win-circle perfect-center"},d.wins),r.a.createElement("p",null,d.name))))}return null},w=Object(m.a)({apiKey:"AIzaSyA-TqRly_foxcPhNk-SV5MLVM3xzgj-tRM",authDomain:"smash-modes-online.firebaseapp.com",projectId:"smash-modes-online",storageBucket:"smash-modes-online.appspot.com",messagingSenderId:"536420233370",appId:"1:536420233370:web:27c18caa3696791d65ef23",measurementId:"G-NDHVZM9TDC",databaseURL:"https://smash-modes-online-default-rtdb.firebaseio.com/"}),x=Object(d.c)(w),C=Object(d.f)(x),N=function(){var e=sessionStorage.getItem("clientId");if(e)return e;var n="client_"+Math.random().toString(36).substring(2,15);return sessionStorage.setItem("clientId",n),n},M=function(){var e=Object(a.useState)(""),n=Object(g.a)(e,2),o=n[0],c=n[1],p=Object(a.useState)(!1),m=Object(g.a)(p,2),b=m[0],k=m[1],h=Object(a.useState)(!1),v=Object(g.a)(h,2),j=v[0],O=v[1],y=Object(a.useState)({}),E=Object(g.a)(y,2),w=E[0],x=E[1],M=Object(a.useState)(null),S=Object(g.a)(M,2),R=S[0],P=S[1],I=Object(a.useState)({}),z=Object(g.a)(I,2),D=z[0],L=z[1],B=Object(a.useRef)(null),G=N(),T=function(){var e=Object(u.a)(s.a.mark((function e(){var n,t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(Object(d.a)(C,"allFighters"));case 2:n=e.sent,t=n.val(),a=Object(d.e)(Object(d.a)(C,"rooms"),{state:{p1:{wins:0,picks:[],name:"p1"},p2:{wins:0,picks:[],name:"p2"},gameMode:0,turn:"p1",winner:"",p1Pick:"none",p2Pick:"none",totalBattles:0,available:t}}).key,c(a),F(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(s.a.mark((function e(n){var a,r,o,c,p,u,m,f,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(d.a)(C,"rooms/".concat(n)),e.next=3,Object(d.b)(a);case 3:if(r=e.sent,o=r.val()){e.next=8;break}return k(!0),e.abrupt("return");case 8:return Object(d.i)(Object(d.a)(a,"clients/".concat(G)),""),c=o.state,p=o.options,x(c),P(p),e.next=14,Object(d.b)(Object(d.a)(C,"allFighters"));case 14:return u=e.sent,m=u.val(),e.next=18,Promise.all(m.map((function(e){return Promise.all([t(57)("./".concat(e.file,".png")),t(58)("./".concat(e.file,".png"))])})));case 18:f=e.sent,L(f.reduce((function(e,n,t){var a=Object(g.a)(n,2),r=a[0],o=a[1];return Object(l.a)(Object(l.a)({},e),{},Object(i.a)({},m[t].name,{vertical:r.default,horizontal:o.default}))}),{})),b=Object(d.d)(a,(function(e){var n,t,a=e.val();console.log(a),x(null!==(n=null===a||void 0===a?void 0:a.state)&&void 0!==n?n:{}),P(null!==(t=null===a||void 0===a?void 0:a.options)&&void 0!==t?t:{})})),B.current=b,O(!0);case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),O(!1),B.current(),n=Object(d.a)(C,"rooms/".concat(o,"/clients")),e.next=6,Object(d.g)(Object(d.a)(n,G));case 6:return e.next=8,Object(d.b)(n);case 8:t=e.sent,t.val()||Object(d.g)(Object(d.a)(C,"rooms/".concat(o)));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j?r.a.createElement(_,{roomId:o,roomState:w,roomOptions:R,images:D,setupRoom:function(e){Object(d.i)(Object(d.a)(C,"rooms/".concat(o,"/options")),e)},onChangeRoomState:function(e){var n=Object(d.a)(C,"rooms/".concat(o,"/state"));Object(d.h)(n,(function(n){return n?Object(l.a)(Object(l.a)({},n),e):null}))},onClose:U}):r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"foreground"},r.a.createElement("h2",null,"Smash Modes Online"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:40}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{onClick:T},"Create Room")),r.a.createElement("p",{style:{margin:10,fontWeight:500}},"or"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("input",{className:b?"error":"",value:o,onChange:function(e){c(e.target.value),k(!1)},placeholder:"Enter room id"}),r.a.createElement(f.a,{onClick:function(){return F(o)},disabled:!o,style:{borderBottomLeftRadius:0,borderTopLeftRadius:0}},"Join Room")))))};c.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.d74987e8.chunk.js.map