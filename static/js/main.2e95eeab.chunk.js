(this["webpackJsonpsmash-modes-online"]=this["webpackJsonpsmash-modes-online"]||[]).push([[0],{44:function(e,n,t){e.exports=t(59)},50:function(e,n,t){},52:function(e,n,t){var a={"./banjo_and_kazooie.png":[60,3],"./bayonetta.png":[61,4],"./black_pit.png":[62,5],"./byleth.png":[63,6],"./captain_falcon.png":[64,7],"./chrom.png":[65,8],"./cloud.png":[66,9],"./daisy.png":[67,10],"./dark_samus.png":[68,11],"./dedede.png":[69,12],"./diddy_kong.png":[70,13],"./donkey_kong.png":[71,14],"./dq_hero.png":[72,15],"./dr_mario.png":[73,16],"./duck_hunt.png":[74,17],"./falco.png":[75,18],"./fox.png":[76,19],"./ganondorf.png":[77,20],"./gaogaen.png":[78,21],"./gekkouga.png":[79,22],"./homura.png":[80,23],"./ice_climber.png":[81,24],"./ike.png":[82,25],"./inkling.png":[83,26],"./joker.png":[84,27],"./kamui.png":[85,28],"./kazuya.png":[86,29],"./ken.png":[87,30],"./king_k_rool.png":[88,31],"./kirby.png":[89,32],"./koopa.png":[90,33],"./koopa_jr.png":[91,34],"./link.png":[92,35],"./little_mac.png":[93,36],"./lucario.png":[94,37],"./lucas.png":[95,38],"./lucina.png":[96,39],"./luigi.png":[97,40],"./mario.png":[98,41],"./marth.png":[99,42],"./meta_knight.png":[100,43],"./mewtwo.png":[101,44],"./mii_fighter.png":[102,45],"./minmin.png":[103,46],"./mr_game_and_watch.png":[104,47],"./murabito.png":[105,48],"./ness.png":[106,49],"./pac_man.png":[107,50],"./packun_flower.png":[108,51],"./palutena.png":[109,52],"./peach.png":[110,53],"./pichu.png":[111,54],"./pikachu.png":[112,55],"./pikmin_and_olimar.png":[113,56],"./pit.png":[114,57],"./pokemon_trainer.png":[115,58],"./purin.png":[116,59],"./reflet.png":[117,60],"./richter.png":[118,61],"./ridley.png":[119,62],"./robot.png":[120,63],"./rockman.png":[121,64],"./rosetta_and_chiko.png":[122,65],"./roy.png":[123,66],"./ryu.png":[124,67],"./samus.png":[125,68],"./sephiroth.png":[126,69],"./sheik.png":[127,70],"./shizue.png":[128,71],"./shulk.png":[129,72],"./simon.png":[130,73],"./snake.png":[131,74],"./sonic.png":[132,75],"./sora.png":[133,76],"./steve.png":[134,77],"./terry.png":[135,78],"./toon_link.png":[136,79],"./wario.png":[137,80],"./wii_fit_trainer.png":[138,81],"./wolf.png":[139,82],"./yoshi.png":[140,83],"./young_link.png":[141,84],"./zelda.png":[142,85],"./zero_suit_samus.png":[143,86]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=52,e.exports=r},53:function(e,n,t){},58:function(e,n,t){var a={"./banjo_and_kazooie.png":[144,87],"./bayonetta.png":[145,88],"./black_pit.png":[146,89],"./byleth.png":[147,90],"./captain_falcon.png":[148,91],"./chrom.png":[149,92],"./cloud.png":[150,93],"./daisy.png":[151,94],"./dark_samus.png":[152,95],"./dedede.png":[153,96],"./diddy_kong.png":[154,97],"./donkey_kong.png":[155,98],"./dq_hero.png":[156,99],"./dr_mario.png":[157,100],"./duck_hunt.png":[158,101],"./falco.png":[159,102],"./fox.png":[160,103],"./ganondorf.png":[161,104],"./gaogaen.png":[162,105],"./gekkouga.png":[163,106],"./homura.png":[164,107],"./ice_climber.png":[165,108],"./ike.png":[166,109],"./inkling.png":[167,110],"./joker.png":[168,111],"./kamui.png":[169,112],"./kazuya.png":[170,113],"./ken.png":[171,114],"./king_k_rool.png":[172,115],"./kirby.png":[173,116],"./koopa.png":[174,117],"./koopa_jr.png":[175,118],"./link.png":[176,119],"./little_mac.png":[177,120],"./lucario.png":[178,121],"./lucas.png":[179,122],"./lucina.png":[180,123],"./luigi.png":[181,124],"./mario.png":[182,125],"./marth.png":[183,126],"./meta_knight.png":[184,127],"./mewtwo.png":[185,128],"./mii_fighter.png":[186,129],"./minmin.png":[187,130],"./mr_game_and_watch.png":[188,131],"./murabito.png":[189,132],"./ness.png":[190,133],"./pac_man.png":[191,134],"./packun_flower.png":[192,135],"./palutena.png":[193,136],"./peach.png":[194,137],"./pichu.png":[195,138],"./pikachu.png":[196,139],"./pikmin_and_olimar.png":[197,140],"./pit.png":[198,141],"./pokemon_trainer.png":[199,142],"./purin.png":[200,143],"./reflet.png":[201,144],"./richter.png":[202,145],"./ridley.png":[203,146],"./robot.png":[204,147],"./rockman.png":[205,148],"./rosetta_and_chiko.png":[206,149],"./roy.png":[207,150],"./ryu.png":[208,151],"./samus.png":[209,152],"./sephiroth.png":[210,153],"./sheik.png":[211,154],"./shizue.png":[212,155],"./shulk.png":[213,156],"./simon.png":[214,157],"./snake.png":[215,158],"./sonic.png":[216,159],"./sora.png":[217,160],"./steve.png":[218,161],"./terry.png":[219,162],"./toon_link.png":[220,163],"./wario.png":[221,164],"./wii_fit_trainer.png":[222,165],"./wolf.png":[223,166],"./yoshi.png":[224,167],"./young_link.png":[225,168],"./zelda.png":[226,169],"./zero_suit_samus.png":[227,170]};function r(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],r=n[0];return t.e(n[1]).then((function(){return t.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=58,e.exports=r},59:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(37),i=t.n(o),c=(t(49),t(50),t(6)),l=t.n(c),p=t(16),s=t(12),u=t(38),g=t(14),m=t(229),d=t(4),f=t(18),b=t(17),k=t(2),h=t(3),v=t(10),O=t(11),j=function(e){var n=e.available,o=e.fighterClick,i=e.setPick,c=Object(a.useState)([]),l=Object(s.a)(c,2),p=l[0],u=l[1];return Object(a.useEffect)((function(){Promise.all(n.map((function(e){return t(52)("./".concat(e.file,".png"))}))).then((function(e){u(e.map((function(e){return e.default})))}))}),[n]),r.a.createElement("div",{className:"fighter-box",onMouseOut:function(){return i("none")}},n.map((function(e,n){var t,a=e.name,c=e.file;return r.a.createElement("img",{src:null!==(t=p[n])&&void 0!==t?t:null,key:c,alt:a,height:50,style:{objectFit:"cover",objectPosition:"-90px 0",width:107,border:"1px solid black"},onClick:function(){return o(a)},onMouseOver:function(){return i(a)}})})))},y=(t(53),t(228)),_=t(41),E=t(42),w=t(39),x=t.n(w),S=function(e){var n=e.fighterLength,t=e.startGame,o=Object(a.useState)(1),i=Object(s.a)(o,2),c=i[0],l=i[1],p=Object(a.useState)("p1"),u=Object(s.a)(p,2),g=u[0],d=u[1],f=Object(a.useState)("p2"),b=Object(s.a)(f,2),k=b[0],h=b[1],v=Object(a.useState)(!1),O=Object(s.a)(v,2),j=O[0],w=O[1],S=Math.floor(n/2);return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(y.a,{id:"setup"},r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"How Many Battles?"),r.a.createElement(_.a,{as:"select",size:"10",value:c,onChange:function(e){return l(e.target.value)}},x.a.range(1,S+1).map((function(e,n){return r.a.createElement("option",{value:e,key:n},e)})))),r.a.createElement(y.a.Row,null,r.a.createElement(y.a.Group,{as:E.a},r.a.createElement(y.a.Label,null,"P1's name"),r.a.createElement(_.a,{value:g,onChange:function(e){return d(e.target.value)}})),r.a.createElement(y.a.Group,{as:E.a},r.a.createElement(y.a.Label,null,"P2's name"),r.a.createElement(_.a,{value:k,onChange:function(e){return h(e.target.value)}}))),r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Check,{type:"checkbox",label:"Mercy Rule?",value:j,onChange:function(){return w(!j)}})),r.a.createElement(m.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault(),t(c,g,k,j)}},"Continue")))},C=function(e){Object(v.a)(a,e);var n=Object(O.a)(a);function a(e){var t;return Object(k.a)(this,a),(t=n.call(this,e)).initialState=function(){return{p1:{wins:0,picks:[],name:"p1"},p2:{wins:0,picks:[],name:"p2"},gameMode:t.props.roomOptions?1:0,turn:"p1",winner:"",p1Pick:"none",p2Pick:"none",totalBattles:0,images:{}}},t.startGame=function(e,n,a,r){t.props.setupRoom({maxBattles:e,maxWins:r?Math.floor(e/2)+1:e}),t.setState({p1:Object(b.a)(Object(b.a)({},t.state.p1),{},{name:n}),p2:Object(b.a)(Object(b.a)({},t.state.p2),{},{name:a}),turn:n,gameMode:1})},t.fighterClick=function(){var e=t.state,n=e.p1,a=e.p2,r=e.turn,o=e.p1Pick,i=e.p2Pick;r===n.name?t.setState({turn:a.name}):"none"!==i&&(t.props.onSelectNames([o,i]),t.setState({p1:Object(b.a)(Object(b.a)({},n),{},{picks:[].concat(Object(f.a)(n.picks),[o])}),p2:Object(b.a)(Object(b.a)({},a),{},{picks:[].concat(Object(f.a)(a.picks),[i])}),turn:n.name,gameMode:2}))},t.setPick=function(e){var n=t.state,a=n.turn,r=n.p1,o=n.p1Pick;a===r.name?t.setState({p1Pick:e}):e!==o?t.setState({p2Pick:e}):t.setState({p2Pick:"none"})},t.setWinner=function(e){if(t.props.roomOptions){var n=t.state,a=n.p1,r=n.p2,o=n.totalBattles,i=t.props.roomOptions,c=i.maxBattles,l=i.maxWins,p=a.wins,s=r.wins;e===a.name?p+=1:s+=1,t.setState({p1:Object(b.a)(Object(b.a)({},a),{},{wins:p}),p2:Object(b.a)(Object(b.a)({},r),{},{wins:s})}),p>=l?t.setState({winner:a.name,gameMode:3}):s>=l?t.setState({winner:r.name,gameMode:3}):o+1>=c?t.setState({winner:p>=s?a.name:r.name,gameMode:3}):t.setState({gameMode:1,p1Pick:"none",p2Pick:"none",totalBattles:o+1})}},t.handleClose=function(){t.props.onClose()},t.state=t.initialState(),t}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(){var e=this;0===this.state.gameMode&&this.props.roomOptions&&this.setState({gameMode:1}),Object.keys(this.state.images).length||Promise.all(this.props.available.map((function(e){return t(58)("./".concat(e.file,".png"))}))).then((function(n){e.setState({images:n.reduce((function(n,t,a){return Object(b.a)(Object(b.a)({},n),{},Object(d.a)({},e.props.available[a].name,t.default))}),{})})}))}},{key:"render",value:function(){var e,n,t=this.fighterClick,a=this.setWinner,o=this.setPick,i=this.startGame,c=this.handleClose,l=this.props,p=l.available,s=l.roomOptions,u=void 0===s?{}:s,g=this.state,d=g.p1,f=g.p2,b=g.turn,k=g.gameMode,h=g.winner,v=g.p1Pick,O=g.p2Pick,y=g.totalBattles,_=g.images;if(0===k)return r.a.createElement(S,{fighterLength:p.length,startGame:i});if(1===k){if(b)return r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement("p",null,"".concat(u.maxBattles-y," battles left")),r.a.createElement(j,{available:p,fighterClick:t,setPick:o}),r.a.createElement("p",null,"Choose ".concat(b,"'s char")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:500}},r.a.createElement("div",{className:"player-box"},"none"!==v&&r.a.createElement("img",{src:null!==(e=_[v])&&void 0!==e?e:null,alt:v}),r.a.createElement("div",{className:"perfect-center"},"none"!==v&&v),r.a.createElement("div",{className:"win-circle perfect-center"},d.wins)),r.a.createElement("div",{className:"player-box blue"},"none"!==O&&r.a.createElement("img",{src:null!==(n=_[O])&&void 0!==n?n:null,alt:O}),r.a.createElement("div",{className:"perfect-center"},"none"!==O&&O),r.a.createElement("div",{className:"win-circle perfect-center"},f.wins))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("h6",null,"Room Id: ",this.props.roomId),r.a.createElement(m.a,{onClick:c},"Leave Room")))}else if(2===k)return r.a.createElement("div",{className:"centered-column"},r.a.createElement("p",null,"Who Won?"),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"outline-secondary",onClick:function(){return a(d.name)}},d.name),r.a.createElement(m.a,{variant:"outline-secondary",onClick:function(){return a(f.name)}},f.name)));if(3===k){var E=h===d.name?d.picks:f.picks,w=(90*(E.length-1)+126)/2;return r.a.createElement("div",{className:"centered-column"},r.a.createElement("p",null,"".concat(h," wins!")),r.a.createElement("div",{style:{position:"relative",left:-w}},E.reverse().map((function(e,n){return r.a.createElement("div",{className:"winningImage",style:{border:"1px solid black",borderRadius:10,background:"lightgoldenrodyellow",position:"absolute",left:90*n,top:10*n,zIndex:-n},key:n},r.a.createElement("img",{src:_[e],key:n,alt:e,style:{borderRadius:10}}))}))),r.a.createElement(m.a,{style:{position:"fixed",bottom:60},onClick:c},"Start Over"),r.a.createElement("div",{style:{position:"fixed",right:75,top:50,display:"flex"}},r.a.createElement("div",{className:"centered-column",style:{marginRight:15}},r.a.createElement("div",{className:"win-circle perfect-center"},d.wins),r.a.createElement("p",null,d.name)),r.a.createElement("div",{className:"centered-column"},r.a.createElement("div",{className:"win-circle perfect-center"},f.wins),r.a.createElement("p",null,f.name))))}}}]),a}(r.a.Component),M=Object(u.a)({apiKey:"AIzaSyA-TqRly_foxcPhNk-SV5MLVM3xzgj-tRM",authDomain:"smash-modes-online.firebaseapp.com",projectId:"smash-modes-online",storageBucket:"smash-modes-online.appspot.com",messagingSenderId:"536420233370",appId:"1:536420233370:web:27c18caa3696791d65ef23",measurementId:"G-NDHVZM9TDC",databaseURL:"https://smash-modes-online-default-rtdb.firebaseio.com/"}),P=Object(g.c)(M),N=Object(g.f)(P),R=function(){var e=sessionStorage.getItem("clientId");if(e)return e;var n="client_"+Math.random().toString(36).substring(2,15);return sessionStorage.setItem("clientId",n),n},I=function(){var e=Object(a.useState)(""),n=Object(s.a)(e,2),t=n[0],o=n[1],i=Object(a.useState)(!1),c=Object(s.a)(i,2),u=c[0],d=c[1],f=Object(a.useState)(!1),b=Object(s.a)(f,2),k=b[0],h=b[1],v=Object(a.useState)([]),O=Object(s.a)(v,2),j=O[0],y=O[1],_=Object(a.useState)(null),E=Object(s.a)(_,2),w=E[0],x=E[1],S=Object(a.useRef)(null),M=R(),P=function(){var e=Object(p.a)(l.a.mark((function e(){var n,t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)(Object(g.a)(N,"allFighters"));case 2:n=e.sent,t=n.val(),a=Object(g.e)(Object(g.a)(N,"rooms"),{available:t}).key,o(a),I(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(l.a.mark((function e(n){var t,a,r,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(g.a)(N,"rooms/".concat(n)),e.next=3,Object(g.b)(a);case 3:if(r=e.sent,o=r.val()){e.next=8;break}return d(!0),e.abrupt("return");case 8:Object(g.h)(Object(g.a)(a,"clients/".concat(M)),""),y(null!==(t=null===o||void 0===o?void 0:o.available)&&void 0!==t?t:[]),x(null===o||void 0===o?void 0:o.roomOptions),i=Object(g.d)(a,(function(e){var n,t=e.val();console.log(t),y(null!==(n=null===t||void 0===t?void 0:t.available)&&void 0!==n?n:[]),x(null===t||void 0===t?void 0:t.roomOptions)})),S.current=i,h(!0);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(""),h(!1),S.current(),n=Object(g.a)(N,"rooms/".concat(t,"/clients")),e.next=6,Object(g.g)(Object(g.a)(n,M));case 6:return e.next=8,Object(g.b)(n);case 8:a=e.sent,a.val()||Object(g.g)(Object(g.a)(N,"rooms/".concat(t)));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?r.a.createElement(C,{available:j,roomId:t,roomOptions:w,setupRoom:function(e){Object(g.h)(Object(g.a)(N,"rooms/".concat(t,"/roomOptions")),e)},onSelectNames:function(e){var n=j.filter((function(n){return!e.includes(n.name)}));Object(g.h)(Object(g.a)(N,"rooms/".concat(t,"/available")),n)},onClose:z}):r.a.createElement("div",{style:{padding:24}},r.a.createElement("h2",null,"Smash Modes Online"),r.a.createElement("div",{style:{display:"flex",marginTop:40}},r.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"center"}},r.a.createElement(m.a,{onClick:P},"Create Room")),r.a.createElement("p",{style:{margin:10}},"or"),r.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"center"}},r.a.createElement("input",{className:u?"error":"",value:t,onChange:function(e){o(e.target.value),d(!1)},placeholder:"Enter room id"}),r.a.createElement(m.a,{onClick:function(){return I(t)},disabled:!t,style:{borderBottomLeftRadius:0,borderTopLeftRadius:0}},"Join Room"))))};i.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.2e95eeab.chunk.js.map